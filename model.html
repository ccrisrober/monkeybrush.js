<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r79/three.js"></script>

<div id='clean' style="display: inline-block;
    float: left;"></div>
<div id="content" style="display: inline;
    float: left;
    padding: 10px;
    padding-top: 0">
        <h5>Cube</h5>
        <div id="cubematrix"></div>
        <h5>Sphere</h5>
        <div id="spherematrix"></div>
        <h5>Capsule</h5>
        <div id="capsulematrix"></div>
        <h5>Cylinder</h5>
        <div id="cylindermatrix"></div>
        <h5>Camera</h5>
        <div id="camera"></div>
    </p>
</div>
<script type="text/javascript">
    /**/
    var sceneT = new THREE.Scene();
    var width = 500;
    var height = 500;
    var camera = new THREE.PerspectiveCamera(45, width/height, 0.3, 1000);
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(width, height);
    document.getElementById('clean').appendChild(renderer.domElement);
    var ambient = new THREE.AmbientLight(new THREE.Color(0.212, 0.227, 0.259));
    sceneT.add(ambient);
    var directionalLight = new THREE.DirectionalLight( 0xffffff, 1.0 );
    directionalLight.position.set( 0,3,0 );
    directionalLight.rotation.set( -0.4082179,0.2345697,0.1093816,0.8754261 );
    sceneT.add( directionalLight );

    var geometry = new THREE.BoxGeometry(1,1,1);
    var mat = new THREE.MeshBasicMaterial({color: "white" });
    var mat2 = new THREE.MeshPhongMaterial({color: "white" });
    var cubeNodeT = new THREE.Mesh(geometry, mat2);
    cubeNodeT.position.set(0,3.15,-8.98);
    cubeNodeT.scale.set(2,2,1);
    sceneT.add(cubeNodeT);

    var sphereNodeT = new THREE.Mesh(geometry, mat2);
    sphereNodeT.position.set(-0.44,-2,2.35);
    sphereNodeT.scale.set(0.5, 0.5, 1);
    cubeNodeT.add(sphereNodeT);

    var capsuleNodeT = new THREE.Mesh(geometry, mat2);
    capsuleNodeT.position.set(-1.44,-2.5,0.87);
    sphereNodeT.add(capsuleNodeT);

    var cylinderNodeT = new THREE.Mesh(geometry, mat2);
    cylinderNodeT.position.set(1.1,-1.91,-1.08);
    cylinderNodeT.scale.set(1, 0.5, 1);
    cubeNodeT.add(cylinderNodeT);

    camera.position.set(0,0.18,8.44);
    //renderer.sortObjects = false
    //renderer.render(scene, camera);
        var delta = 0.01;
        var sign = 1;
    var render = function () {
        requestAnimationFrame(render);
        if (delta > 2.5 || delta < -2.5) {
            sign *= -1;
        }
        delta += 0.025 * sign;
        cubeNodeT.position.x = delta;
        renderer.render(sceneT, camera);
    };
    render();

    function printWM(model) {
        for(var i = 0; i < 4; i++) {
            console.log(
                (model[0 + i]).toFixed(2),
                (model[4 + i]).toFixed(2),
                (model[8 + i]).toFixed(2),
                (model[12 + i]).toFixed(2)
            );
        }
    }

    function printWMText(model, name) {
        var html = document.getElementById(name);
        var text = "";
        for(var i = 0; i < 4; i++) {
            text += "<span>[";

            var m = (model[0 + i]).toFixed(2);
            if (m >= 0) {
                text += " ";
            }
            text += (model[0 + i]).toFixed(2) + ",";
            m = (model[4 + i]).toFixed(2);
            if (m >= 0) {
                text += " ";
            }
            text += (model[4 + i]).toFixed(2) + ",";
            m = (model[8 + i]).toFixed(2);
            if (m >= 0) {
                text += " ";
            }
            text += (model[8 + i]).toFixed(2) + ",";
            m = (model[12 + i]).toFixed(2);
            if (m >= 0) {
                text += " ";
            }
            text += (model[12 + i]).toFixed(2)
            text += "]</span><br/>";
        }
        html.innerHTML = text;
    }
    printWMText(cubeNodeT.matrixWorld.elements, "cubematrix");
    printWMText(sphereNodeT.matrixWorld.elements, "spherematrix");
    printWMText(capsuleNodeT.matrixWorld.elements, "capsulematrix");
    printWMText(cylinderNodeT.matrixWorld.elements, "cylindermatrix");
    printWMText(camera.projectionMatrix.elements, "camera");
    /*console.log("----------- THREEJS ---------");
    console.log("CUBE: ");
    printWM(cubeNodeT.matrixWorld.elements);
    console.log("SPHERE: ");
    printWM(sphereNodeT.matrixWorld.elements);
    console.log("CAPSULE: ");
    printWM(capsuleNodeT.matrixWorld.elements);
    console.log("CYLINDER: ");
    printWM(cylinderNodeT.matrixWorld.elements);
    /**/
</script>
