<!DOCTYPE html>
<html>
<head>
    <title>Hello World</title>
    <link rel="stylesheet" type="text/css" href="./libs/style.css" />
</head>
<body>
    <div class="spinner" id="spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div id="stats"></div>
    <div id="samplesPassed"></div>
    <script type="text/javascript" src="./libs/libraries.js"></script>

    <script type="text/javascript" src="../dist/output.js"></script>

    <script type="text/javascript">
        var MyScene = (function (_super) {
            __extends(MyScene, _super);
            function MyScene() {
                _super.call(this, "App", new MB.GLContextW2());
                this.camera = new MB.Camera2(0.08, 0.16, 20.25);
                this.angle = 0;
                this.mainShader = "prog";
                this.identityMatrix = MB.Mat4.identity.clone();
                this.model = new MB.Mat4();
            };
            MyScene.prototype.initialize = function () {
                var _this = this;
                this.cubito = new MB.CustomModel(this.context, {
                    "indices":[
                        67,18,55,82,18,67,7,82,18,50,55,82,50,18,7,82,76,67,39,82,89,67,18,55,67,89,39,82,89,67,55,82,67,6,39,89,76,67,6,39,67,63,10,6,76,67,10,6,76,67,7,33,63,67,10,65,67,76,10,65,50,66,55,82,66,18,50,55,55,45,89,82,66,45,55,82,45,66,55,89,50,45,66,82,45,50,72,82,39,6,99,89,99,39,89,82,45,99,89,82,67,63,0,65,67,18,0,89,67,0,6,89,63,67,0,6,0,66,89,55,18,0,89,55,18,66,0,55,35,39,6,99,36,76,33,22,67,76,22,33,76,67,22,65,83,76,65,10,83,76,22,65,36,76,22,83,67,21,7,33,65,67,21,7,21,67,22,33,67,21,22,65,21,65,83,22,32,0,66,89,45,32,66,89,20,99,45,82,39,99,20,82,53,39,20,82,39,35,53,20,35,39,99,20,39,35,6,95,35,39,53,95,39,76,53,95,6,76,95,10,76,39,6,95,66,0,15,18,66,0,32,15,15,67,0,65,15,67,18,0,67,15,7,65,67,15,18,7,21,15,65,7,53,35,74,20,20,74,53,82,0,32,15,38,38,0,32,89,6,38,99,89,0,38,6,89,35,6,38,99,38,68,35,99,68,20,35,99,20,68,38,99,35,68,74,20,35,53,74,68,23,22,21,83,36,22,23,83,20,60,74,82,60,20,45,82,60,38,32,89,45,60,32,89,99,38,60,89,45,99,60,89,99,60,38,20,60,99,45,20,45,19,66,32,19,50,72,45,19,66,50,45,50,66,19,18,50,19,7,18,19,72,50,7,66,15,32,19,72,85,7,19,98,36,23,83,98,76,83,10,76,36,98,83,95,76,98,10,95,76,36,98,21,15,7,2,2,33,7,21,33,85,2,7,4,21,22,33,22,36,23,4,35,6,69,38,68,35,69,38,35,6,95,69,68,35,95,69,95,69,6,10,98,95,10,69,65,83,78,21,83,78,21,23,78,23,4,22,21,78,4,22,21,23,78,22,2,21,78,33,21,4,78,33,6,63,10,79,63,65,10,79,6,63,79,0,79,65,10,83,69,79,6,10,69,98,79,10,63,65,79,0,6,79,38,0,79,69,6,38,69,68,43,95,53,35,43,68,35,95,43,68,35,95,53,43,53,24,74,68,43,24,53,68,74,20,24,60,74,20,68,24,86,65,78,21,15,65,86,21,86,65,0,79,65,15,86,0,86,79,0,38,15,86,0,38,32,86,15,38,4,78,31,23,78,83,31,23,85,88,7,19,88,2,85,7,15,2,88,7,32,19,15,88,19,88,7,18,88,15,7,18,66,88,19,18,88,66,15,18,66,88,15,19,46,20,38,60,24,20,46,60,68,20,38,46,24,20,68,46,43,68,69,46,43,24,68,46,65,81,83,79,81,79,10,83,98,81,10,83,98,81,79,10,98,79,81,69,83,78,31,47,83,65,78,47,81,65,83,47,65,86,78,47,86,81,47,79,65,86,47,79,81,65,47,79,15,27,88,2,15,27,86,88,27,15,86,21,15,27,2,21,78,27,86,21,27,78,2,21,86,47,27,78,79,42,38,86,42,79,38,69,79,81,42,86,46,60,38,91,91,42,38,69,69,43,46,91,46,69,91,68,38,46,91,68,69,38,91,68,46,24,60,91,73,98,81,69,98,69,73,95,69,43,73,95,73,36,98,95,69,91,42,96,43,69,73,96,69,43,91,96,69,73,96,81,96,42,79,81,69,96,79,81,42,69,96,79,42,29,38,86,19,32,29,88,32,29,45,19,29,32,45,60,29,32,15,88,86,29,15,88,86,29,32,15,32,29,86,38,60,29,32,38,81,98,73,97,83,98,81,97,47,83,81,97,83,98,97,23,31,83,97,23,31,83,47,97,4,31,97,23,36,23,97,98,23,36,97,4,58,96,42,91,1,47,31,78,1,78,31,4,2,78,27,1,1,2,78,33,4,1,78,33,29,5,45,19,5,72,45,19,41,19,5,29,19,41,88,29,41,19,88,5,59,86,88,29,29,59,41,88,70,2,1,33,70,85,2,33,4,70,1,33,27,2,1,70,54,58,42,91,42,86,54,29,86,42,54,58,86,59,54,29,91,60,54,24,60,29,38,54,91,60,38,54,24,54,91,46,29,42,38,54,42,91,38,54,46,24,49,43,46,24,54,49,91,54,49,46,49,24,53,43,70,1,27,77,30,73,81,96,30,73,97,81,54,86,58,71,81,86,47,71,71,86,58,42,81,86,71,42,42,71,81,96,58,71,42,96,71,30,81,96,71,97,81,30,47,71,97,81,54,44,91,49,44,54,91,58,96,44,91,58,91,44,96,43,46,49,44,43,91,46,44,43,91,46,49,44,86,47,71,11,47,86,27,11,11,88,27,77,86,11,88,27,86,59,88,11,86,54,11,71,59,86,54,11,47,11,26,71,77,26,27,11,26,47,27,11,1,26,27,77,27,47,26,78,1,27,26,78,47,1,26,78,28,1,31,4,97,28,31,4,47,31,97,28,28,47,71,97,47,26,28,71,30,28,71,97,47,28,26,1,47,31,28,1,97,73,80,98,36,97,80,98,73,36,80,98,80,73,97,30,87,97,28,30,87,80,97,30,87,28,97,4,87,36,97,80,36,87,97,4,58,71,52,54,44,58,52,54,71,58,52,96,30,71,52,96,44,58,96,52,49,53,8,43,44,49,8,43,24,53,8,49,74,24,53,8,41,59,94,88,59,11,94,88,77,14,26,11,14,11,77,88,94,11,14,88,84,44,96,52,84,73,96,43,44,84,96,43,30,84,96,52,30,84,73,96,84,73,80,30,84,44,8,43,1,77,70,34,28,1,34,26,1,77,34,26,77,14,34,26,14,26,11,17,14,17,11,94,59,94,11,17,60,24,74,62,60,62,54,24,62,29,60,54,54,29,59,62,45,29,60,62,5,29,45,62,62,72,74,82,60,62,74,82,45,72,62,82,60,45,62,82,72,5,45,62,30,52,71,57,28,30,71,57,57,30,52,84,25,28,30,87,28,25,30,57,30,57,25,84,80,30,25,84,87,80,30,25,54,3,71,52,3,54,71,11,3,59,11,17,59,54,3,11,54,59,3,62,17,94,3,59,56,3,59,62,62,5,56,72,62,56,74,72,29,41,56,5,62,29,56,5,29,41,59,56,62,29,59,56,34,77,9,14,77,70,9,14,77,70,34,9,4,9,70,33,9,85,70,33,70,34,9,1,4,70,9,1,64,84,8,43,84,64,73,43,80,64,73,84,25,84,64,80,25,64,87,80,71,40,11,26,40,71,11,3,52,71,40,3,57,52,40,3,57,52,71,40,40,3,11,17,40,26,34,14,17,26,40,14,9,14,40,34,40,28,71,57,28,26,40,71,26,40,11,17,48,28,25,87,4,87,28,48,4,9,87,48,4,48,28,1,4,9,48,1,48,34,28,1,48,9,34,1,57,28,48,40,57,28,25,48,26,40,34,48,28,26,34,48,26,28,40,48,40,9,34,48,92,5,19,72,92,19,85,72,92,88,85,19,88,92,5,19,92,94,14,88,41,94,92,88,5,41,92,88,88,2,92,85,2,88,92,27,2,92,70,27,70,77,27,92,70,14,77,92,92,77,27,88,92,14,77,88,92,2,70,85,14,92,17,94,70,14,92,9,75,5,56,41,56,41,59,75,41,94,59,75,3,56,59,75,94,3,59,75,41,5,92,75,94,41,92,75,54,61,3,52,54,62,3,61,54,24,61,49,24,62,54,61,61,24,8,49,61,24,62,74,8,24,61,74,8,44,61,49,52,8,44,61,54,44,61,52,44,54,61,49,25,13,64,84,57,13,25,84,13,57,52,84,13,8,64,84,13,64,37,25,37,48,57,25,13,37,57,25,8,13,64,37,48,40,37,57,75,56,16,3,3,94,16,75,94,17,3,16,92,90,17,94,92,75,90,94,75,16,90,94,5,75,90,92,75,90,16,56,13,8,12,37,8,61,52,12,12,61,52,3,57,12,52,3,12,3,57,40,37,12,57,40,57,13,52,12,12,13,52,84,12,8,13,84,8,12,52,44,12,84,52,44,84,12,8,44,13,12,57,37,51,16,3,17,40,51,3,17,51,12,40,3,51,16,12,3,37,12,40,51,92,90,9,51,92,90,51,17,51,14,92,17,14,51,40,17,9,14,92,51,14,9,40,51,51,9,40,48,37,9,51,48,37,51,40,48,51,16,17,94,90,51,17,94,90,16,51,94,62,93,3,61,93,12,3,61,62,56,3,93,16,56,93,3,12,16,93,3,16,90,93,56,93,12,51,16,90,93,51,16,56,62,74,93,62,93,61,74,93,8,61,74,93,8,12,61,37,8,12,93,8,37,64,93,93,37,51,12
                    ],
                    "vertices":[
                        0.7101860566823701,-0.23295221238779007,-0.055495249227711874,-0.05795500122920627,0.8742542994495857,-0.3310970152940622,0.38636597708968656,0.7788324317814044,-0.8719614220396457,-0.6774286690540454,-0.262368121368584,-0.04511434618547305,0.36084003795671427,0.9832539668837152,0.005650022087442252,-0.08022318503738335,-0.7870211637102682,-0.8897902583029662,0.8513441018289871,0.1392985202685586,0.2477227198094054,0.9181881417618789,0.5766260451775254,-0.8680726465586592,-0.5312981669095302,-0.5472258241293653,0.9486603185108415,-0.6955069086475612,0.9383401176398167,-0.6708071424758475,0.8132239825539882,0.37702807692144313,0.31664816919151395,-0.2996947483807406,0.1650505684384327,-0.3216807272240412,-0.9580696093311847,-0.18136843084891474,0.4385829979740139,-0.8237792841955867,0.27743698320628063,0.6081975051702835,-0.5446378431940047,0.2952351038507439,-0.781341131482125,0.4936877083239888,-0.2165877594080543,-0.3375450861716356,-0.9513001289716985,-0.22668117327866044,-0.3878900109508301,-0.6286539744533077,0.06209213821347381,-0.49645079926876656,0.913704895263074,-0.2577240942861678,-0.41648427497722107,0.44684724504426265,-0.8115839447260629,-0.927843781806057,0.5298634359662402,-0.7620296848665298,0.5204528827730512,0.5631871829407737,0.7173138766411693,-0.3369206234911317,0.6269980825540546,0.9739300681519927,0.002465435008815131,0.4622639634112913,0.902044060603814,0.12057618583003604,0.22452016882228598,-0.780390425679363,0.6983853753764411,-0.6567299066938106,0.7362430958167203,0.637336306125531,-0.33636999580084215,0.453343723162849,-0.23672308100629236,0.09763307761147422,0.6996314667792598,-0.7684784187277205,-0.35997716487190967,0.8450656250870616,0.03833551224765497,-0.04278697999589287,-0.5113655887257242,-0.24474364078538446,-0.2097267364141513,0.6445745724694474,0.48788215749945074,0.18728353846297763,0.833687963164857,-0.04080425072101246,0.5571532128655354,-0.5125477882952514,-0.2334995965865403,0.7880282101748413,0.905923369954655,-0.6680799818608523,-0.6169606324174635,0.8452239475529901,-0.41835955311307504,0.6441902252214446,-0.39217573501959535,0.7315611977748775,0.659452770124116,0.9518199672879657,0.5223943354815961,-0.9132021482639021,0.28724991671842615,0.5609782575680056,0.4699687782336541,-0.4204780143922511,0.22960611237488449,0.8938979017687751,-0.5241664475620103,0.6387496663879131,-0.7026925556652674,0.2390480069995471,-0.18421278016066278,-0.11936631849401991,-0.699318018909449,-0.8433668374028631,0.08969838972489308,-0.026015642543393724,0.24323340015780293,0.23687701010681517,-0.16412396408809338,0.9582205656552536,-0.2390692239971024,-0.338970129048926,0.8676328865085488,0.7517192509663473,-0.780419281666199,-0.19167419905764627,0.1506595921846805,-0.3748145064117594,0.7163522247594347,0.10865288629787262,0.4199406200996183,-0.023760161989001993,-0.7197407120587194,0.8897197588985164,0.007878984516005882,-0.20579923557553714,-0.482423824986701,0.8146462492670801,0.9173030391340129,-0.8732564932409788,-0.6938907095085378,-0.9617140653829428,-0.12323400216838332,-0.4284302182549835,-0.5246092021348097,0.039388333227410754,0.35557456108478647,0.7117778750165162,-0.7750176353277918,0.9306333386834087,-0.17983524575178134,-0.32219462218685324,0.23951485233169878,0.9388872002451754,-0.5933139266952123,-0.3335589801167944,-0.6909207077992088,-0.8710880617175718,-0.17318622307442233,-0.6468081845337865,0.12085852701729616,0.353936266928891,-0.05343597172471748,-0.07213610259479974,0.30857646958486606,-0.12356389614884877,-0.48085316794214217,-0.2939100812888982,0.4522140681697975,-0.746913288232848,0.2870258261070724,-0.7528458157499722,-0.6886671563123739,0.5923939210083993,-0.6408461240881831,-0.8664852276986577,-0.07116780277149903,0.8351632731923448,0.22104353022185563,0.03173487919030338,-0.7000550406625683,0.4653950447339792,0.8427865669449957,0.7851091700126509,0.28984631504036473,-0.049184272163258935,0.7679774770162995,-0.5457957084757665,-0.349159947054948,0.9570598457756545,0.20602347863531723,-0.12953846196088525,0.4634196100967629,-0.33264072822890656,0.6952742636560698,0.33553219081862284,-0.12578270216192466,0.5670862957859657,-0.1584635828819101,0.8906709587822976,-0.8164654472982105,-0.21251268278632374,0.23888753517302908,0.06870903769133685,0.7272818307841917,-0.9976512301648075,-0.9101458453013764,0.051215804935461406,0.6458314377953029,0.8311448615000585,0.4721935493694538,-0.9040426689157659,0.7614147735986663,-0.7510657523715625,-0.5381426782741445,-0.6769633476536701,0.922537659845942,0.7076238310820586,0.4762597556980239,-0.20733580876338964,0.654692863721936,-0.7401044488316613,0.3271375064072193,0.6990545054170823,-0.28072315759077027,0.25747589878338495,0.0758545930295571,0.186523133966932,-0.4334636385048025,0.8442229307188853,0.7221815490474972,0.1470619381661713,0.2332623073326019,0.16728028664660233,0.9775079950472576,-0.9297264822549143,-0.3072859571911697,0.6094461815386456,0.6033419443121173,0.1231434442671584,-0.5580166093992251,0.336513426329216,0.8043861379072133,0.6310400686657371,0.8325432531260759,-0.9797778466789642,0.20556556961068617,-0.08747590423184759,-0.2380743133422074,-0.5137968330329139,0.8891939391502253,0.6584915005828496,0.154675315435699,-0.2636075831131732,-0.8617278091421317,0.8760474218177103,-0.5021809794133865,0.16326128017813923,-0.9524183320822948,-0.23570979597305097,-0.7258287750356378,0.08132507612032125,-0.2296086021385424,0.47806428345973817,-0.735783322568198,0.14283355149100885,-0.9931493083193845,-0.994035935970409,-0.7533353803106553,0.5180719052062281,-0.5417565830957356,-0.16061896842043089,-0.73128220255713,0.49998731709760014,-0.04367589464616328,0.943356988621658,-0.008036803718858287,-0.03748983307271647,0.36161230541656764,-0.04973407381714523,0.7377636237526781,0.34816424846663363,0.43699779999728916,0.7464501723794936,0.6289713590787089,0.7209472938088668,-0.5749096284263064,0.4548973060814374
                ]});
                MB.ProgramManager.addWithFun("prog", function () {
                    var prog = new MB.Program(_this.context);
                    prog.addShader("../shaders/demoShader.vert", MB.ctes.ShaderType.vertex, MB.ctes.ReadMode.read_file);
                    prog.addShader("../shaders/demoShader.frag", MB.ctes.ShaderType.fragment, MB.ctes.ReadMode.read_file);
                    prog.compile();
                    prog.use();
                    prog.addUniforms(["projection", "view", "model"]);
                    return prog;
                });
                this.state.culling.setStatus(false);
                this.cameraUpdate();
            };
            MyScene.prototype.update = function (dt) {
                this.camera.update(MB.Timer.deltaTime() / 10.0, this.cameraUpdate.bind(this));
                this.angle += MB.Timer.deltaTime() * 0.001;
                this.__resize__();
            };
            MyScene.prototype.draw = function () {
                this.clearColorAndDepth();
                var prog = MB.ProgramManager.get(this.mainShader);
                prog.use();
                this.model =
                    this.identityMatrix.clone()
                        .translate(new MB.Vect3(0.0, 0.0, 0.0))
                        .rotate(90.0 * Math.PI / 180, MB.Vect3.yAxis)
                        .rotate(this.angle * 0.5, MB.Vect3.yAxis)
                        .scale(new MB.Vect3(5.25, 5.25, 5.25));
                prog.sendUniformMat4("model", this.model);
                this.cubito.render2();
            };
            MyScene.prototype.cameraUpdate = function () {
                this.view = this.camera.GetViewMatrix();
                this.projection = this.camera.GetProjectionMatrix(this.canvas);
                var prog = MB.ProgramManager.get(this.mainShader);
                prog.use();
                prog.sendUniformVec3("viewPos", this.camera.GetPos());
                prog.sendUniformMat4("projection", this.projection);
                prog.sendUniformMat4("view", this.view);
            };
            return MyScene;
        }(MB.App));
        window.onload = function () {
            var myScene = new MyScene();
            myScene.start();
        };
    </script>
</body>
</html>
